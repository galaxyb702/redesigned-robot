import random
import string

def generate_password(length=12):
    """
    Generates a strong, random password using letters, digits, and punctuation.
    """
    # Define the set of all possible characters
    all_characters = (
        string.ascii_letters +  # a-z and A-Z
        string.digits +         # 0-9
        string.punctuation      # !, #, $, %, etc.
    )

    if length < 8:
        print("Warning: Recommended password length is 8 or more.")
        length = 8
    
    # Use random.sample to pick 'length' characters without repetition (if possible)
    # The list is joined into a single string
    password = "".join(random.sample(all_characters, length))
    
    return password

# --- Main execution block ---

# Get the desired length from the user
try:
    # Use input() to get user input and convert it to an integer
    pw_length = int(input("Enter the desired password length (e.g., 16): "))
except ValueError:
    # Handle case where user enters non-numeric input
    print("Invalid input. Using default length of 12.")
    pw_length = 12

# Generate and print the password
new_password = generate_password(pw_length)

print("\n--- Generated Password ---")
print(new_password)
print("--------------------------\n")
